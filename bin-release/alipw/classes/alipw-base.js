var Alipw=function(){var d=navigator.userAgent.toLowerCase();var c=d.match(/msie ([\d.]+)/)?d.match(/msie ([\d.]+)/)[1]:undefined;var g=typeof(c)!="undefined";var l=c&&parseInt(c)==6;var j=c&&parseInt(c)==7;var i=c&&parseInt(c)==8;var h=c&&parseInt(c)==9;var m=/applewebkit/.test(d);var e=d.match(/opera\/([\d.]+)/);var f;var q;var n;var o;var p;var a;var b=[];var k={initialize:function(){Alipw.utils=new Object();var s=Alipw.getFileInfo();Alipw.rootPath=s.rootPath;Alipw.classPath=s.classPath;Alipw.mode=s.mode;var r=Alipw.rootPath;if(typeof(jQuery)=="undefined"){document.write('<script type="text/javascript" src="'+r+"alipw/baselib/baselib-all.js?v="+Alipw.build+'"><\/script>')}else{document.write('<script type="text/javascript" src="'+r+"alipw/baselib/jquery/jquery.easing.js?v="+Alipw.build+'"><\/script>')}document.write('<link rel="stylesheet" type="text/css" href="'+r+"alipw/resources/css/style.css?v="+Alipw.build+'" />');Alipw.onDOMReady(function(){if(Alipw.theme){jQuery(document.body).addClass("alipw-theme-"+Alipw.theme)}})},build:"20130822161747",version:"2.0",ieVersion:c,isIE:g,isIE6:l,isIE7:j,isIE8:i,isIE9:h,isWebKit:m,isOpera:e,theme:"default",useShims:false,apply:function(t,u,s){if(s){Alipw.apply(t,s)}if(t&&u&&typeof u=="object"){for(var r in u){t[r]=u[r]}}return t},override:function(r,t){if(t){var s=r.prototype;Alipw.apply(s,t);if(Alipw.ie()&&t.hasOwnProperty("toString")){s.toString=t.toString}}},extend:function(){var s=function(u){for(var t in u){this[t]=u[t]}};var r=Object.prototype.constructor;return function(y,v,x){if(typeof v=="object"){x=v;v=y;y=x.constructor!=r?x.constructor:function(){v.apply(this,arguments)}}var u=function(){},w,t=v.prototype;u.prototype=t;w=y.prototype=new u();w.constructor=y;y.superclass=t;if(t.constructor==r){t.constructor=v}y.override=function(z){Alipw.override(y,z)};w.superclass=w.supr=(function(){return t});w.override=s;Alipw.override(y,x);y.extend=function(z){return Alipw.extend(y,z)};return y}}(),getDoc:function(){if(!f){f=jQuery(window.document)}return f},getWin:function(){if(!q){q=jQuery(window)}return q},getBody:function(){if(!n){n=jQuery(window.document.body)}return n},getComp:function(r){return Alipw.ComponentManager.getComponent(r)},getModule:function(s){var r=Alipw.ComponentManager.getComponent(s);if(r instanceof Alipw.Module){return r}return null},getNonvisual:function(s){var r=Alipw.Nonvisual.getInstance(s);if(r){return r}return null},getInstance:function(s){var r;r=Alipw.getComp(s);if(r){return r}r=Alipw.getNonvisual(s);if(r){return r}return null},addModuleScript:function(r){Alipw.Module.__moduleScriptFn=r;r.__Alipw_needToReload=true},adjustImgSize:function(t,x,y,s){if(typeof(s)=="undefined"){s=true}var w=new Image();w.src=t.src;var v=w.width;var u=w.height;if(!t._adjustSizeTryTime){t._adjustSizeTryTime=0}if((v==0||u==0)&&t._adjustSizeTryTime<100){t._adjustSizeTryTime++;setTimeout(function(){Alipw.adjustImgSize(t,x,y,s)},10);return}if(v<=x&&u<=y){t.style.width=v+"px";t.style.height=u+"px";if(s){t.style.paddingLeft=t.style.paddingRight=parseInt((x-v)/2)+"px";t.style.paddingTop=t.style.paddingBottom=parseInt((y-u)/2)+"px"}}else{var r=x;var z=(x*u)/v;if(z>y){z=parseInt(y);r=parseInt((y*v)/u)}t.style.width=r+"px";t.style.height=z+"px";if(s){t.style.paddingLeft=t.style.paddingRight=parseInt((x-r)/2)+"px";t.style.paddingTop=t.style.paddingBottom=parseInt((y-z)/2)+"px"}}},isSet:function(r){if(typeof(r)!="undefined"&&r!=null){return true}else{return false}},ie:function(){var r=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/);return r?r[1]:undefined},getPath:function(){if(!o){var u=document.getElementsByTagName("script");var s;for(var t=0,r=u.length;t<r;t++){s=u[t].src.toString().match(/(.*)alipw\/classes\//i);if(s){o=s[1];break}}}return o},getFileInfo:function(){if(!p){var u=document.getElementsByTagName("script");var s;for(var t=0,r=u.length;t<r;t++){s=u[t].src.toString().match(/(.*)alipw\/classes\/(.+)\.js/i);if(s){p={rootPath:s[1],classPath:s[1]+"alipw/classes/",mode:s[2].replace("alipw-","")}}}}return p},removeItemFromArray:function(u,s){for(var t=0,r=s.length;t<r;t++){if(s[t]==u){s.splice(t,1);t--;r=s.length}}},indexOfArray:function(u,s){for(var t=0,r=s.length;t<r;t++){if(s[t]===u){return t}}return -1},getDocWidth:function(){if(Alipw.ie()){if(document.compatMode=="BackCompat"){return document.body.scrollWidth}else{return document.documentElement.scrollWidth}}else{return jQuery(document).width()}},getDocHeight:function(){if(Alipw.ie()){if(document.compatMode=="BackCompat"){return document.body.scrollHeight}else{return document.documentElement.scrollHeight}}else{return jQuery(document).height()}},isInNode:function(s,r){var u=r.getElementsByTagName("*");for(var t=0;t<u.length;t++){if(u[t]==s){return true}}return false},isReady:function(){return Alipw.isDOMReady&&Alipw.ClassManager.getStatus()=="complete"},isDOMReady:false,onDOMReady:function(s){var v=false;var w=[];var x;var r=function(y){if(Alipw.isDOMReady){y.call(document)}else{w.push(function(){return y.call(this)})}return this};var t=function(){for(var y=0;y<w.length;y++){w[y].apply(document)}w=null};var u=function(y){if(Alipw.isDOMReady){return}Alipw.isDOMReady=true;t.call(window);if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",u,false)}else{if(document.attachEvent){document.detachEvent("onreadystatechange",u);if(window==window.top){clearInterval(x);x=null}}}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",u,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if((/loaded|complete/).test(document.readyState)){u()}});if(window==window.top){x=setInterval(function(){try{Alipw.isDOMReady||document.documentElement.doScroll("left")}catch(y){return}u()},5)}}}return r}(),onReady:function(r){Alipw.onDOMReady(function(){if(Alipw.ClassManager.getStatus()=="complete"){r()}else{b.push(r)}})},onLoad:function(r){jQuery(window).bind("load",function(){if(Alipw.isReady()){r()}else{Alipw.onReady(r)}})},importClass:function(){if(Alipw.mode=="all"){return}Alipw.ClassManager.loadClass.apply(Alipw.ClassManager,arguments)},each:function(s,v,u){if(!(v instanceof Function)){return}if(s instanceof Array){for(var t=0,r=s.length;t<r;t++){if(v.call(u,t,s[t])==false){break}}}else{if(s instanceof Object){for(var t in s){if(v.call(u,t,s[t])==false){break}}}}},clone:function(s,r){return jQuery.extend(r,{},ect)},createFuncProxy:function(s,r){return function(){s.apply(r,arguments)}},getScrollbarSize:function(s){if(!Alipw.isReady()){return{}}if(s||!a){var r=document.body,t=document.createElement("div");t.style.width=t.style.height="100px";t.style.overflow="scroll";t.style.position="absolute";r.appendChild(t);a={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight};r.removeChild(t)}return a},getHash:function(){var r=window.location.href;if(r.indexOf("#")==-1){return""}return r.replace(/^[^\#]*#/,"")},loadScript:function(v){var t=v.url;var r=v.success;var u=document.getElementsByTagName("head")[0];var s=document.createElement("script");s.setAttribute("type","text/javascript");s.setAttribute("src",t);if(Alipw.isIE){s.onreadystatechange=function(){if(s.readyState=="complete"||s.readyState=="loaded"){if(r instanceof Function){r.call()}}}}else{s.onload=function(){if(r instanceof Function){r.call()}}}u.appendChild(s);return s},getWinProxy:function(){if(!Alipw.WinProxy.initialized){Alipw.WinProxy.initialize()}return Alipw.WinProxy},getObjectByName:function(s){var v=s.split(".");var u;for(var t=0,r=v.length;t<r;t++){if(!u&&t==0){u=window[v[t]]}else{if(u){u=u[v[t]]}else{break}}}return u},isNumeric:function(r){return !isNaN(parseFloat(r))&&isFinite(r)},isIntegral:function(r){return !isNaN(r)&&parseInt(r).toString()==r.toString()},classLoadedHandler:function(){for(var s=0,r=b.length;s<r;s++){b[s]()}b=[]},convertEl:function(s){var r;if(typeof(s)=="string"&&s.substr(0,1)!="#"){r=jQuery("#"+s)}else{r=jQuery(s);if(r.length>1){r=jQuery(r[0])}}return r}};return k}();Alipw.initialize();var A=Alipw;Alipw.Event=function(){var a=function(d,c,e,b){jQuery.extend(this,e);this.type=d.replace(/alipw\-/g,"");this.currentTarget=c;this.target=c;this.jQueryEvent=b};a.prototype={preventDefault:function(){if(this.jQueryEvent){this.jQueryEvent.preventDefault()}this.isDefaultPrevented=true},stopPropagation:function(){if(this.jQueryEvent){this.jQueryEvent.stopPropagation()}}};return a}();Alipw.EventManager=function(){var b=new Array();b.getFnProxy=function(f,d){for(var e=0,c=b.length;e<c;e++){if(b[e].fn==f&&b[e].object==d){return b[e].proxy}}return null};var a={addListener:function(d,h,g,f,i){var e;if(d instanceof Alipw.Component){e=d.el}else{if(d instanceof Alipw.Nonvisual){e=d.evtProxy}else{return}}if(!i){h="alipw-"+h}if(i&&d instanceof Alipw.Component){e.bind(h,f?jQuery.proxy(g,f):g)}else{var c=b.getFnProxy(g,d);if(!c){c=function(j,k){k.currentTarget=d;k.jQueryEvent=j;g.call(this,k,k)};b.push({proxy:c,fn:g,object:d})}e.bind(h,f?jQuery.proxy(c,f):c)}},removeListener:function(d,g,f,h){var e;if(d instanceof Alipw.Component){e=d.el}else{if(d instanceof Alipw.Nonvisual){e=d.evtProxy}else{return}}if(!h){g="alipw-"+g}if(h&&d instanceof Alipw.Component){e.unbind(g,f)}else{var c=b.getFnProxy(f,d);if(c){e.unbind(g,c)}}},fireEvent:function(d,f,i,c,h){var e;if(d instanceof Alipw.Component){e=d.el}else{if(d instanceof Alipw.Nonvisual){e=d.evtProxy}else{return}}if(!h){f="alipw-"+f}if(!Alipw.isSet(c)){c=true}if(h&&d instanceof Alipw.Component){if(c){e.trigger(f,i)}else{e.triggerHandler(f,i)}}else{var g=new Alipw.Event(f,d,i);if(c){e.trigger(f,g)}else{e.triggerHandler(f,g)}return g.isDefaultPrevented?false:true}},enableHashChangeEvent:function(){var c=this;this.hashChangeManager=new Object();this.hashChangeManager.lastHash=Alipw.getHash();this.hashChangeManager.timer=setInterval(function(){var d=Alipw.getHash();if(d!==c.hashChangeManager.lastHash){var e=new Object();e.lastHash=c.hashChangeManager.lastHash;e.hash=d;Alipw.getWinProxy().fireEvent("hashChange",e);c.hashChangeManager.lastHash=d}},100)}};return a}();Alipw.ClassManager=function(){var c={"Alipw.ClassManager":"loaded","Alipw.Component":"loaded","Alipw.ComponentManager":"loaded","Alipw.BoxComponent":"loaded","Alipw.Shadow":"loaded","Alipw.Container":"loaded","Alipw.Nonvisual":"loaded","Alipw.Template":"loaded","Alipw.Module":"loaded","Alipw.Event":"loaded","Alipw.EventManager":"loaded","Alipw.WinProxy":"loaded"};var b={"Alipw.Container":["Alipw.BoxComponent"],"Alipw.Panel":["Alipw.Container","Alipw.Button"],"Alipw.Window":["Alipw.ResizeSupporter","Alipw.DragSupporter","Alipw.Panel","Alipw.ScreenMask","Alipw.WindowManager","Alipw.AnimationProxy"],"Alipw.Taskbar":["Alipw.Window","Alipw.TaskbarItem"],"Alipw.Button":["Alipw.BoxComponent"],"Alipw.Msg":["Alipw.Window","Alipw.Template"],"Alipw.ScreenMask":["Alipw.FixedWrapper"],"Alipw.FixedWrapper":["Alipw.Container"],"Alipw.ResizeSupporter":["Alipw.BorderContainer"],"Alipw.BorderContainer":["Alipw.Container"],"Alipw.ColorPicker":["Alipw.BoxComponent"],"Alipw.Gallery":["Alipw.DataProxy"],"Alipw.Slider":["Alipw.Component"],"Alipw.Scrollbar":["Alipw.Slider"],"Alipw.ValidatorGroup":["Alipw.Validator"],"Alipw.List":["Alipw.BorderContainer","Alipw.ListItem","Alipw.DataStore"],"Alipw.ComboBox":["Alipw.BorderContainer","Alipw.List"],"Alipw.DatePicker":["Alipw.BorderContainer","Alipw.utils.Date"],"Alipw.ToolTip":["Alipw.BorderContainer"]};var a=Alipw.classPath;var d=function(g){c[g]="loading";Alipw.loadScript({url:a+g+".js?v="+Alipw.build,success:function(){c[g]="loaded";e.classComplete(g);if(e.getStatus()=="complete"){e.complete()}else{f()}}})};var f=function(){for(var g in c){if(c[g]=="pending"){d(g);return}}};var e={loadingAdapter:null,getStatus:function(h){if(Alipw.isSet(h)){return c[h]}else{for(var g in c){if(c[g]!="loaded"){return"loading"}}return"complete"}},setStatus:function(h,g){c[h]=g},loadClass:function(){if(e.loadingAdapter){e.loadingAdapter.call(e,arguments,b);return}var g=e.getStatus();e.addClass.apply(e,arguments);if(g=="complete"){f()}},addClass:function(){var h=arguments;for(var j=0,g=h.length;j<g;j++){if(c[h[j]]){continue}var k=b[h[j]];if(k instanceof Array){e.addClass.apply(e,k)}c[h[j]]="pending"}},classComplete:function(g){Alipw.Config.applySettings(g)},complete:function(){Alipw.classLoadedHandler()}};return e}();Alipw.Config=function(){var b=new Object();var a={set:function(d,c){if(!b[d]){b[d]=new Object()}Alipw.apply(b[d],c);a.applySettings(d)},get:function(c){return b[c]},applySettings:function(c){var d=Alipw.getObjectByName(c);if(d){if(d.prototype){Alipw.apply(d.prototype,b[c])}else{Alipw.apply(d,b[c])}}}};return a}();Alipw.Component=function(){var a=function(b){this.config=b||(new Object());this.commitProperties();this.initialize();this.createDom();this._runAutoRender()};a.prototype={autoRender:true,visibleRender:true,renderTo:null,defaultEl:"div",baseCls:"",subCls:"",cls:"",overCls:"",downCls:"",enabled:true,destroyed:false,visible:true,floating:false,floatingManagement:true,draggable:false,tooltip:"",position:"",inlineStyle:null,listeners:null,commitProperties:function(){Alipw.apply(this,this.config)},initialize:function(){Alipw.ComponentManager.register(this)},createDom:function(){this.el=$(document.createElement(this.defaultEl));this.el.attr("alipw_component","true");if(this.listeners){for(var b in this.listeners){if(this.listeners[b] instanceof Function){this.addEventListener(b,this.listeners[b],this)}}}this.el.attr("id",this.id);if(this.baseCls){this.el.attr("class",this.baseCls)}if(this.subCls){this.el.addClass(this.subCls)}if(this.cls){this.el.addClass(this.cls)}if(this.zIndex){this.el.css("z-index",this.zIndex)}if(this.position=="fixed"){if(parseInt(Alipw.ie())==6){this.el.css("position","absolute");this.x=this.getX()-jQuery(window).scrollLeft();this.y=this.getY()-jQuery(window).scrollTop();jQuery(window).bind("scroll",jQuery.proxy(this.scrollHandler_Component,this));this.addEventListener("destroy",function(c){jQuery(window).unbind("scroll",this.scrollHandler_Component)},this)}else{this.el.css("position","fixed")}}if(this.inlineStyle){this.el.css(this.inlineStyle)}},render:function(b){if(!b){if(this.renderTo){b=this.renderTo}else{b=document.body}}this.fireEvent("beforeRender",{},false);if(b instanceof Alipw.Container){b.appendChild(this,false)}else{b=Alipw.convertEl(b);b.append(this.el)}this.removed=false;this.fireEvent("afterRender",{},false);if(!this.rendered){this.renderComplete();this.rendered=true;this.creationCompleteFn_Component();this.fireEvent("creationComplete",{},false)}},renderComplete:function(b){this.addEventListener("afterLayout",this.afterLayoutHandler_Component,this);if(this.visibleRender&&this.el.is(":hidden")){var f=jQuery('<div style="position:absolute; left:-99999px; top:-99999px;"></div>');var e=this.el.next();var d=this.el.parent();jQuery(document.body).append(f);f.append(this.el);this.doLayout();if(e[0]){this.el.insertBefore(e)}else{d.append(this.el)}f.remove()}else{this.doLayout()}if(this.overCls){this.addEventListener("mouseover",this.mouseOverHandlerForOverCls_Component,this,true);this.addEventListener("mouseout",this.mouseOutHandlerForOverCls_Component,this,true)}if(this.downCls){var c=Alipw.createFuncProxy(this.mouseUpHandlerForDownCls_Component,this);this.addEventListener("mousedown",this.mouseDownHandlerForDownCls_Component,this,true);jQuery(document).bind("mouseup",c);this.addEventListener("destroy",function(g){jQuery(document).unbind("mouseup",c)},this)}},addEventListener:function(d,c,b,e){Alipw.EventManager.addListener(this,d,c,b,e)},removeEventListener:function(c,b,d){Alipw.EventManager.removeListener(this,c,b,d)},fireEvent:function(c,e,b,d){if(this.destroyed){return false}return Alipw.EventManager.fireEvent(this,c,e,b,d)},regEvents:function(d){for(var c=0,b=d.length;c<b;c++){Rainy.EventManager.register(d[c])}},update:function(){this.renderComplete(true)},show:function(){if(!this.rendered){this.render()}this.setVisible(true)},hide:function(){this.setVisible(false)},remove:function(b){if(this.destroyed){return}this.fireEvent("beforeRemove",{},false);if(b){this.el.remove()}else{this.el.detach()}this.removed=true;this.fireEvent("afterRemove",{},false)},destroy:function(){if(this.destroyed){return}this.fireEvent("destroy",{},false);this.el.find("*[alipw_component=true]").each(function(c,d){var b=Alipw.getComp(d.id);if(b){b.destroy()}});this.remove(true);if(this.parentContainer){this.parentContainer=null}Alipw.ComponentManager.unregister(this);this.el=null;this.destroyed=true},setVisible:function(e,d,b){if(!Alipw.isSet(d)){d=e}if(e){this.el.show();this.el.css("visibility","visible")}else{this.el.hide();if(d){this.el.show();this.el.css({visibility:"hidden"})}else{this.el.hide();this.el.css({visibility:"hidden"})}}var c=this.visible;this.visible=e;if(c!=e&&!b){this.fireEvent("visibilityChange",{},false)}},getVisible:function(){if(this.el.is(":hidden")){return false}else{return true}},getZIndex:function(){return this.zIndex},getX:function(){var b=this.el.offset().left;if(this.position=="fixed"){return b-jQuery(window).scrollLeft()}else{return b}},getY:function(){var b=this.el.offset().top;if(this.position=="fixed"){return b-jQuery(window).scrollTop()}else{return b}},setPosition:function(b,f,e,d,c){if(!Alipw.isSet(d)){d=true}if(!Alipw.isSet(c)){c=true}if(Alipw.isSet(b)){if(this.position=="fixed"){if(parseInt(Alipw.ie())==6){this.el.css("left",(b+jQuery(window).scrollLeft())+"px");this._ie6_fixedX=b}else{this.el.css("left",b+"px")}}else{if(c){this.el.offset({left:b})}else{this.el.css({left:b})}}}if(Alipw.isSet(f)){if(this.position=="fixed"){if(parseInt(Alipw.ie())==6){this.el.css("top",(f+jQuery(window).scrollTop())+"px");this._ie6_fixedY=f}else{this.el.css("top",f+"px")}}else{if(c){this.el.offset({top:f})}else{this.el.css("top",f+"px")}}}if(Alipw.isSet(e)){this.el.css("z-index",e)}if(d){this.fireEvent("move",{},false)}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},doLayout:function(c){var d=this;var b=function(){d.fireEvent("beforeLayout",{},false);d._doLayout();d.fireEvent("afterLayout",{},false)};if(this.__doLayoutBuffer){clearTimeout(this.__doLayoutBuffer)}if(c){this.__doLayoutBuffer=setTimeout(b,1)}else{b()}},_doLayout:function(){},_runAutoRender:function(){if(this.autoRender){this.render()}},afterLayoutHandler_Component:function(b){if(this.parentContainer){this.parentContainer.doLayout(true)}},scrollHandler_Component:function(){var b=jQuery(window);if(this.position=="fixed"){if(parseInt(Alipw.ie())==6){this.el.css({left:b.scrollLeft()+this._ie6_fixedX,top:b.scrollTop()+this._ie6_fixedY})}}},creationCompleteFn_Component:function(){if(this.draggable){var c=typeof(this.draggable)=="object"?this.draggable:{};this.dragSupporter=new Alipw.DragSupporter(jQuery.extend({target:this},c));this.addEventListener("destroy",function(){if(this.dragSupporter){this.dragSupporter.destroy();this.dragSupporter=null}},this);this.addEventListener("dragstart",this.dragStartHandler_Component,this);this.addEventListener("dragend",this.dragEndHandler_Component,this)}if(this.tooltip){var b;if(typeof(this.tooltip)=="object"){b=this.draggable}else{if(typeof(this.tooltip)=="string"){b={html:this.tooltip}}}this.tooltip=new Alipw.ToolTip(jQuery.extend({target:this},b))}},dragStartHandler_Component:function(){if(!this.dragSupporter.useProxy){if(this.shadow){this.shadow.disable()}}},dragEndHandler_Component:function(c,b){if(this.shadow){this.shadow.enable()}},mouseOverHandlerForOverCls_Component:function(b){if(this.destroyed||!this.enabled){return}this.el.addClass(this.overCls)},mouseOutHandlerForOverCls_Component:function(b){if(this.destroyed||!this.enabled){return}this.el.removeClass(this.overCls)},mouseDownHandlerForDownCls_Component:function(b){if(this.destroyed||!this.enabled){return}this.el.addClass(this.downCls)},mouseUpHandlerForDownCls_Component:function(b){if(this.destroyed||!this.enabled){return}this.el.removeClass(this.downCls)}};return a}();Alipw.ComponentManager=function(){var b=new Object();var a=new Array();var d=new Array();var c={zseed:8000,register:function(e){if(e.floating&&e.floatingManagement){a.push(e);e.zIndex=this.zseed+a.length*5}if(!e.id){d.push(e);e.id="Alipw-comp-"+d.length}b[e.id]=e},unregister:function(f){Alipw.removeItemFromArray(f,a);this.updateZIndex();for(var g=0,e=d.length;g<e;g++){if(d[g]==f){delete d[g]}}delete b[f.id]},getComponent:function(e){return b[e]},bringToFront:function(e){if(e.floating&&e.floatingManagement){Alipw.removeItemFromArray(e,a);a.push(e);this.updateZIndex()}},sendToBack:function(){},updateZIndex:function(){for(var f=0,e=a.length;f<e;f++){a[f].zIndex=this.zseed+(f+1)*5;if(a[f].rendered){a[f].setPosition(null,null,a[f].zIndex)}}}};return c}();Alipw.BoxComponent=Alipw.extend(Alipw.Component,{width:null,height:null,minWidth:1,minHeight:1,maxWidth:null,maxHeight:null,autoHeight:null,resizable:false,showShadow:false,shadowMode:"drop",constructor:function(a){Alipw.BoxComponent.superclass.constructor.apply(this,arguments)},commitProperties:function(){Alipw.BoxComponent.superclass.commitProperties.apply(this,arguments);if(!this.height&&!Alipw.isSet(this.autoHeight)){this.autoHeight=true}},initialize:function(){Alipw.BoxComponent.superclass.initialize.apply(this,arguments)},createDom:function(){Alipw.BoxComponent.superclass.createDom.apply(this,arguments)},render:function(a){Alipw.BoxComponent.superclass.render.apply(this,arguments)},renderComplete:function(b){Alipw.BoxComponent.superclass.renderComplete.apply(this,arguments);if(this.showShadow){if(!this.shadow){this.createShadow_BoxComponent()}this.shadow.show()}else{if(this.shadow){this.shadow.setVisible(false)}}if(this.resizable){var a=typeof(this.resizable)=="object"?this.resizable:{};this.resizeSupporter=new Alipw.ResizeSupporter(jQuery.extend({target:this,maxWidth:this.maxWidth,maxHeight:this.maxHeight,minWidth:this.minWidth,minHeight:this.minHeight},a));this.addEventListener("destroy",function(){if(this.resizeSupporter){this.resizeSupporter.destroy();this.resizeSupporter=null}},this)}},_doLayout:function(){Alipw.BoxComponent.superclass._doLayout.apply(this,arguments);if(this.width){this.el.width(this.width)}if(this.autoHeight){this.height=null;this.el.css("height","auto");var a=this.getHeight();if(this.maxHeight&&a>this.maxHeight){this.height=this.maxHeight;this.el.height(this.maxHeight)}if(this.minHeight&&a<this.maxHeight){this.height=this.minHeight;this.el.height(this.minHeight)}}else{if(this.height){this.el.height(this.height)}}},setWidth:function(a){this.width=a;this.doLayout();this.fireEvent("resize",{},false)},setHeight:function(a){this.height=a;this.autoHeight=false;this.doLayout();this.fireEvent("resize",{},false)},setSize:function(b,a){this.width=b;this.height=a;this.doLayout();this.fireEvent("resize",{},false)},getWidth:function(){return this.el.innerWidth()},getHeight:function(){return this.el.innerHeight()},createShadow_BoxComponent:function(a){if(this.shadow){return}if(this instanceof Alipw.Shadow){return}this.shadow=new Alipw.Shadow({target:this,position:this.position,mode:this.shadowMode});this.addEventListener("destroy",function(){if(this.shadow){this.shadow.destroy()}},this)}});Alipw.Shadow=Alipw.extend(Alipw.BoxComponent,{floating:true,mode:"drop",target:null,floatingManagement:false,baseCls:"alipw-shadow",constructor:function(a){Alipw.Shadow.superclass.constructor.apply(this,arguments)},commitProperties:function(){Alipw.Shadow.superclass.commitProperties.apply(this,arguments)},initialize:function(){Alipw.Shadow.superclass.initialize.apply(this,arguments)},createDom:function(){Alipw.Shadow.superclass.createDom.apply(this,arguments);if(Alipw.ie()&&parseInt(Alipw.ie())<7){this.el.attr("class","alipw-ie-shadow")}else{this.el.append(['<div class="xst">','<div class="xstl"></div>','<div class="xstc"></div>','<div class="xstr"></div>',"</div>",'<div class="xsc">','<div class="xsml"></div>','<div class="xsmc"></div>','<div class="xsmr"></div>',"</div>",'<div class="xsb">','<div class="xsbl"></div>','<div class="xsbc"></div>','<div class="xsbr"></div>',"</div>"].join(""))}if(this.target instanceof Alipw.BoxComponent){var a=Alipw.createFuncProxy(this.applyToElement,this);this.target.addEventListener("resize",a);this.target.addEventListener("move",a);this.target.addEventListener("visibilityChange",a);this.target.addEventListener("afterRemove",a);this.target.addEventListener("afterRender",a);this.addEventListener("destroy",function(){this.target.removeEventListener("resize",a);this.target.removeEventListener("move",a);this.target.removeEventListener("visibilityChange",a);this.target.removeEventListener("afterRemove",a);this.target.removeEventListener("afterRender",a)},this)}},render:function(a){Alipw.Shadow.superclass.render.apply(this,arguments);if(this.target){this.applyToElement()}},renderComplete:function(){Alipw.Shadow.superclass.renderComplete.apply(this,arguments)},_doLayout:function(){Alipw.Shadow.superclass._doLayout.apply(this,arguments);if(!(Alipw.ie()&&parseInt(Alipw.ie())<7)){if(this.width){if(this.width<12){this.width=12}this.el.find(".xstc").width(this.width-12);this.el.find(".xsmc").width(this.width-12);this.el.find(".xsbc").width(this.width-12)}if(this.height){if(this.height<12){this.height=12}this.el.find(".xsc").height(this.height-12)}}else{this.el.width(this.width-9);this.el.height(this.height-9)}},enable:function(){Alipw.Shadow.superclass.enable.apply(this,arguments);this.setVisible(true);this.applyToElement()},disable:function(){Alipw.Shadow.superclass.disable.apply(this,arguments);this.setVisible(false)},applyToElement:function(f){var h=this.target;if(h instanceof Alipw.BoxComponent&&h.floating){var b,a,c,d;if(this.mode=="drop"){b=a=-3;c=d=8}else{if(this.mode=="frame"){b=a=-5;c=d=10}else{if(this.mode=="sides"){b=-5;a=-3;c=10;d=8}}}this.setWidth(h.getWidth()+c);this.setHeight(h.getHeight()+d);this.setPosition(h.getX()+b,h.getY()+a,h.getZIndex()-1,true,false);if(this.enabled){var g;if(h.removed){g=false}else{g=h.visible}this.setVisible(g)}else{this.setVisible(false)}}}});Alipw.Container=Alipw.extend(Alipw.BoxComponent,{html:"",constructor:function(){Alipw.Container.superclass.constructor.apply(this,arguments)},commitProperties:function(){Alipw.Container.superclass.commitProperties.apply(this,arguments)},initialize:function(){Alipw.Container.superclass.initialize.apply(this,arguments);this.items=new Array()},createDom:function(){Alipw.Container.superclass.createDom.apply(this,arguments)},renderComplete:function(){Alipw.Container.superclass.renderComplete.apply(this,arguments);if(this.html){this.appendChild(this.html)}},appendChild:function(c,b){if(!Alipw.isSet(b)){b=true}var a=this.getBody();if(c instanceof Alipw.Component){a.append(c.el);this.items.push(c);c.parentContainer=this}else{a.append(c)}if(b){this.doLayout()}},removeChild:function(c,b){if(!Alipw.isSet(b)){b=true}var a=this.getBody();if(c instanceof Alipw.Component){c.remove();c.parentContainer=null;Alipw.removeItemFromArray(c,this.items)}else{jQuery(c).detach()}if(b){this.doLayout()}},getBody:function(){return this.el},scrollX:function(b){var a=this.getBody();a.scrollTop(a.scrollLeft()+b)},scrollY:function(b){var a=this.getBody();a.scrollTop(a.scrollTop()+b)}});Alipw.Nonvisual=function(){var b=new Object();var c=0;var a=function(){c++;return"Alipw-nonvisual-"+c};var d=function(e){this.config=e||(new Object());this.commitProperties(e);b[this.id]=this;if(this.autoInit){this.initialize()}};d.getInstance=function(f){var e=b[f];if(e){return e}return null};d.prototype={autoInit:true,initialized:false,enabled:true,listeners:null,commitProperties:function(){Alipw.apply(this,this.config);if(!this.id){this.id=a()}},initialize:function(){this.evtProxy=jQuery(new Object());this.initialized=true;if(this.listeners){for(var e in this.listeners){if(this.listeners[e] instanceof Function){this.addEventListener(e,this.listeners[e],this)}}}},addEventListener:function(g,f,e){Alipw.EventManager.addListener(this,g,f,e,false)},removeEventListener:function(f,e){Alipw.EventManager.removeListener(this,f,e,false)},fireEvent:function(e,f){return Alipw.EventManager.fireEvent(this,e,f,false,false)},regEvents:function(e){},update:function(){},destroy:function(){if(this.destroyed){return}this.fireEvent("destroy");delete b[this.id];this.destroyed=true},enable:function(){this.enabled=true},disable:function(){this.enabled=false}};return d}();Alipw.WinProxy=function(){var a=new Alipw.Nonvisual({autoInit:false});return a}();Alipw.Template=Alipw.extend(Alipw.Nonvisual,{constructor:function(){Alipw.Template.superclass.constructor.apply(this,arguments)},commitProperties:function(){Alipw.Template.superclass.commitProperties.apply(this,arguments);if(typeof(this.config)=="string"){this.html=this.config}else{if(this.config instanceof Array){this.html=this.config.join("")}}},initialize:function(){Alipw.Template.superclass.initialize.apply(this,arguments)},set:function(c){for(var a in c){var b=new RegExp("\\{\\$"+a+"\\}","g");this.html=this.html.replace(b,c[a])}return this},compile:function(){this.el=jQuery(this.html);return this.el}});Alipw.Module=Alipw.extend(Alipw.Component,{template:"",templateUrl:"",scripts:null,scriptUrls:null,loadingCls:"",commitProperties:function(){Alipw.Module.superclass.commitProperties.apply(this,arguments)},initialize:function(){Alipw.Module.superclass.initialize.apply(this,arguments);if(!this.scripts){this.scripts=new Array()}if(!this.scriptUrls){this.scriptUrls=new Array()}this.context=new Object();this.__componentMgr=new Object()},createDom:function(){Alipw.Module.superclass.createDom.apply(this,arguments)},renderComplete:function(){Alipw.Module.superclass.renderComplete.apply(this,arguments)},destroy:function(){var a;for(var b in this.__componentMgr){a=Alipw.getInstance(b);if(a){a.destroy()}}Alipw.Module.superclass.destroy.apply(this,arguments)},addScript:function(a){this.scripts.push(a)},load:function(b){this.fireEvent("beforeModuleLoad",{},false);if(this.loadingCls){this.el.addClass(this.loadingCls)}this.el.empty();for(var c=0,a=this.scripts.length;c<a;c++){if(this.scripts[c].__Alipw_needToReload){this.scripts.splice(c,1);a=this.scripts.length;c--}}if(this.templateUrl){this.loadTemplate_Module(b)}else{this.loadScripts_Module()}},create:function(c,b){var a;if(c){a=new c(b);if(a instanceof Alipw.Component||a instanceof Alipw.Nonvisual){this.__componentMgr[a.id]=true;a.addEventListener("destroy",function(){this.__componentMgr[a.id]=null},this)}}return a},getInstance:function(d){var b=new Object();var a;for(var c in this.__componentMgr){a=Alipw.getInstance(c);if(!d&&a){b[c]=a}else{if(d=="module"&&a instanceof Alipw.Module){b[c]=a}else{if(d=="component"&&a instanceof Alipw.Component){b[c]=a}else{if(d=="nonvisual"&&a instanceof Alipw.Nonvisual){b[c]=a}}}}}return b},loadTemplate_Module:function(a){var e=this;if(!a){a=new Object()}var b=a.url||this.templateUrl;var d=a.method||"GET";var c=a.params;jQuery.ajax({url:b,type:d,data:c,success:function(f){e.template=f;e.loadScripts_Module()}})},loadScripts_Module:function(){if(this.destroyed){return}var d=this;var a=this.scriptUrls.length;var b=0;var c=function(){if(d.destroyed){return}var e=Alipw.loadScript({url:d.scriptUrls[b],success:function(){if(Alipw.Module.__moduleScriptFn instanceof Function){d.addScript(Alipw.Module.__moduleScriptFn);Alipw.Module.__moduleScriptFn=null}b++;if(b>=a){d.renderContent_Module()}else{c()}}});d.addEventListener("destroy",function(){jQuery(e).remove()})};if(a>0){c()}else{this.renderContent_Module()}},renderContent_Module:function(){if(this.destroyed){return}if(this.loadingCls){this.el.removeClass(this.loadingCls)}this.fireEvent("moduleLoaded",{},false);if(this.template){this.el.append(jQuery(this.template))}for(var b=0,a=this.scripts.length;b<a;b++){if(this.destroyed){return}this.scripts[b].call(this)}this.fireEvent("moduleRendered",{},false)}});