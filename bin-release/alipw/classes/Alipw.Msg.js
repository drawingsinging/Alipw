Alipw.Msg=function(){var b=function(r,c,q,h,s,f){var j={title:"Message",buttonAlign:"right"};var m=new Alipw.Template(['<div class="alipw-msg">','<div class="alipw-msg-text">',"{$msg}",'<div class="alipw-msg-icon {$iconCls}"></div>',"</div>","</div>"]).set({msg:c,iconCls:s.iconCls}).html;var p=jQuery.extend(j,h,{html:m,title:r,resizable:false,autoCenter:true,autoRender:false});var o=new Alipw.Window(p);o.setVisible(false,true);o.render();if(f instanceof Array){for(var k=0,n=f.length;k<n;k++){var l=o.addButtons(f[k]);l.addEventListener("click",function(i){if(typeof(q)=="function"){q(this._callbackToken)}o.close()},l,true)}}var e=o.el.find(".alipw-msg");e.css("white-space","nowrap");o.body.css("overflow","hidden");if(e.width()>s.textMaxWidth){e.width(s.textMaxWidth);e.css("white-space","")}else{if(e.width()<s.textMinWidth){e.width(s.textMinWidth);e.css("white-space","")}}var d=o.getWidthByBody(e.outerWidth());var g=o.getHeightByBody(e.outerHeight());o.setSize(d,g);o.center();Alipw.ComponentManager.bringToFront(o);o.setVisible(true);return o};var a={config:{dialog:{iconCls:"alipw-icon-msg-warning",textMaxWidth:500,textMinWidth:150},alert:{OKText:"OK",OKButtonCls:undefined,OKButtonGridScale:true,OKButtonWidth:60,iconCls:"alipw-icon-msg-warning",textMaxWidth:500,textMinWidth:150},prompt:{},confirm:{yesText:"Yes",yesButtonCls:undefined,yesButtonGridScale:true,yesButtonWidth:60,noText:"No",noButtonCls:undefined,noButtonGridScale:true,noButtonWidth:60,iconCls:"alipw-icon-msg-question",textMaxWidth:500,textMinWidth:150},tip:{iconCls:"alipw-icon-msg-success",textMaxWidth:500,textMinWidth:150,timeout:2000,gridScaleButton:true}},dialog:function(h,g,c){if(typeof(c)!="object"){c=new Object()}var j=jQuery.extend({},a.config.dialog,{iconCls:c.iconCls,textMaxWidth:c.textMaxWidth,textMinWidth:c.textMinWidth});for(var d in j){delete c[d]}c=jQuery.extend({modal:true},c);var e=[];var f=b(h,g,null,c,j,e);return f},alert:function(k,c,j,d){if(typeof arguments[0]=="object"){var h=arguments[0],k=h.title||"提醒",c=h.msg,j=h.fn,d=h.config}if(typeof(d)!="object"){d=new Object()}var l=jQuery.extend({},a.config.alert,{OKText:d.OKText,OKButtonCls:d.OKButtonCls,OKButtonGridScale:d.OKButtonGridScale,OKButtonWidth:d.OKButtonWidth,iconCls:d.iconCls,textMaxWidth:d.textMaxWidth,textMinWidth:d.textMinWidth});for(var f in l){delete d[f]}d=jQuery.extend({modal:true},d);var e=[{label:l.OKText,cls:l.OKButtonCls,gridScale:l.OKButtonGridScale,width:l.OKButtonWidth,_callbackToken:"OK"}];var g=b(k,c,j,d,l,e);return g},prompt:function(f,e,d,c){},confirm:function(j,h,f,c){if(typeof(c)!="object"){c=new Object()}var k=jQuery.extend({},a.config.confirm,{yesText:c.yesText,yesButtonCls:c.yesButtonCls,yesButtonGridScale:c.yesButtonGridScale,yesButtonWidth:c.yesButtonWidth,noText:c.noText,noButtonCls:c.noButtonCls,noButtonGridScale:c.noButtonGridScale,noButtonWidth:c.noButtonWidth,iconCls:c.iconCls,textMaxWidth:c.textMaxWidth,textMinWidth:c.textMinWidth});for(var d in k){delete c[d]}c=jQuery.extend({modal:true},c);var e=[{label:k.yesText,cls:k.yesButtonCls,gridScale:k.yesButtonGridScale,width:k.yesButtonWidth,_callbackToken:"yes"},{label:k.noText,cls:k.noButtonCls,gridScale:k.noButtonGridScale,width:k.noButtonWidth,_callbackToken:"no"}];var g=b(j,h,f,c,k,e);return g},tip:function(f,c){if(typeof(c)!="object"){c=new Object()}var g=jQuery.extend({},a.config.tip,{iconCls:c.iconCls,textMaxWidth:c.textMaxWidth,textMinWidth:c.textMinWidth,timeout:c.timeout});for(var d in g){delete c[d]}c=jQuery.extend({showHeader:false,modal:false,draggable:false},c);var e=b("",f,null,c,g);if(g.timeout>0){setTimeout(function(){e.close()},g.timeout)}return e}};return a}();