Alipw.SlideView=Alipw.extend(Alipw.BoxComponent,{baseCls:"alipw-slideview",width:400,height:300,subviews:null,interval:5000,showIndex:true,currentIndex:0,autoPlay:false,transferEasing:"easeInOutExpo",transferDuration:500,constructor:function(){Alipw.SlideView.superclass.constructor.apply(this,arguments)},commitProperties:function(){Alipw.SlideView.superclass.commitProperties.apply(this,arguments);if(!this.subviews){this.subviews=new Array()}},initialize:function(){Alipw.SlideView.superclass.initialize.apply(this,arguments)},createDom:function(){Alipw.SlideView.superclass.createDom.apply(this,arguments);this.el.append(new Alipw.Template(['<div class="{$baseCls}-scrollwrap"></div>','<div class="{$baseCls}-index-bg"></div>','<div class="{$baseCls}-index"></div>']).set({baseCls:this.baseCls}).compile())},renderComplete:function(){Alipw.SlideView.superclass.renderComplete.apply(this,arguments);this.renderSubviews_SlideView();this.renderIndex_SlideView();if(this.autoPlay){this.play()}var a=this.el.find("."+this.baseCls+"-scrollwrap");a.bind("mouseover",jQuery.proxy(function(){clearInterval(this.autoPlayTimer)},this));a.bind("mouseout",jQuery.proxy(function(){if(this.isPlaying){this.play()}},this))},switchTo:function(b){clearInterval(this.autoPlayTimer);var c=this.el.find("."+this.baseCls+"-scrollwrap");var a=this.width*b*-1;this.indexBtnItems[this.currentIndex].removeClass(this.baseCls+"-index-selected");this.currentIndex=b;this.indexBtnItems[b].addClass(this.baseCls+"-index-selected");c.stop();c.animate({left:a},this.transferDuration,this.transferEasing);if(this.isPlaying){this.play()}},back:function(){var a;if(this.currentIndex==0){a=this.subviews.length-1}else{a=this.currentIndex-1}this.switchTo(a)},forward:function(){var a;if(this.currentIndex==this.subviews.length-1){a=0}else{a=this.currentIndex+1}this.switchTo(a)},_doLayout:function(){Alipw.SlideView.superclass._doLayout.apply(this,arguments)},renderSubviews_SlideView:function(){var a=this.el.find("."+this.baseCls+"-scrollwrap");Alipw.each(this.subviews,function(c,d){var d=$(d);var b=$('<div class="'+this.baseCls+'-subview"></div>');b.width(this.width);b.height(this.height);b.append(d);a.append(b)},this)},renderIndex_SlideView:function(){var b=this.el.find("."+this.baseCls+"-index");var a=this.el.find("."+this.baseCls+"-index-bg");if(!this.showIndex){b.hide();a.hide()}this.indexBtnItems=new Array();Alipw.each(this.subviews,function(d,e){var c=$('<a hidefocus="true" href="#">'+(d+1)+"</a>");if(d==this.currentIndex){c.addClass(this.baseCls+"-index-selected")}this.indexBtnItems.push(c);c.click(jQuery.proxy(function(f){f.preventDefault();this.switchTo(d)},this));if(this.showIndex){b.append(c)}},this)},play:function(){var a=this;clearInterval(this.autoPlayTimer);this.autoPlayTimer=setInterval(function(){a.forward()},this.interval);this.isPlaying=true},stop:function(){clearInterval(this.autoPlayTimer);this.isPlaying=false}});